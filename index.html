<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Work Day Scheduler</title>
  </head>

  <body>
    <header class="jumbotron">
      <h1 class="display-3">Work Day Scheduler</h1>
      <p class="lead">A simple calendar app for scheduling your work day</p>
      <p id="currentDay" class="lead"></p>
    </header>
    <div class="container">
      <!-- Timeblocks go here -->

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script src="https://kit.fontawesome.com/1b731901c2.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>
<script>    

$(document).ready(function() {


var container = $(".container");
var hour = $(".hour");
var now = dayjs();
var rows = 9
var columns = 3

$("#currentDay").text(now.format('dddd, MMMM D'));

// take container, add a for loop to get 10 new rows as children assigning with IDs 1-8; 
/* 
var createRows = $()


var newDiv = $('<div>My new div</div>');  //create Div Element w/ jquery
$( "#someOtherElement" ).append(newDiv) */

var dataHour = 9
 
for(i=0; i < rows; i++){
  var newRow = $('<div class="row time-block">')
  container.append(newRow)
  for(j=0; j < columns; j++){
    if(j === 0){
      var newColumn0 = $('<div id={dataHour} class="hour col-1">')
      if(dataHour > 12){
      }
      newColumn0.text(now.hour(dataHour).format('h A'))
      dataHour++
      newRow.append(newColumn0)
    }else if(j === 1){
      var newColumn1 = $('<textarea class="description col-10">')
        newRow.append(newColumn1)
    }else if(j === 2){
      var newColumn2 = $('<button class="saveBtn btn fas fa-save col-1">')
       newRow.append(newColumn2)
    }
  }
}

/* var Row= $('<div>')
  createRow.addClass("row time-block").attr("id", "row0");

container.append(createRow);

hourCol.text(now.hour(9).format('h A'));

 */






/* var hourCol = $("<div>");
  hourCol.addClass("col-lg-1 hour");
  $("#row0").append(hourCol); 

  var timeBlockCol = $("<textarea>");
    timeBlockCol.addClass("col-lg-10 description");
    $("#row0").append(timeBlockCol);

  var saveCol = $("<button>");
    saveCol.addClass("col-lg-1 saveBtn btn fas fa-save");
    $("#row0").append(saveCol);


 hourCol.text(now.hour(9).format('h A'));


 var createRow1= $('<div>')
  createRow.addClass("row").attr("id", "row1");

container.append(createRow);

var hourCol = $("<div>");
  hourCol.addClass("col-lg-1 hour");
  $("#row1").append(hourCol); 

  var timeBlockCol = $("<div>");
    timeBlockCol.addClass("col-lg-10 timeblock");
    $("#row1").append(timeBlockCol);

  var saveCol = $("<div>");
    saveCol.addClass("col-lg-1 saveBtn");
    $("#row1").append(saveCol);

 hourCol.text(now.hour(12).format('h A'));


 var rowCols = ["row1", "row2", "row3"];
  rowCols.forEach(function(entry) {
    console.log(entry);
}) */

var hourBlock = $(".hour")

function pastpresentfuture() {
  if(parseInt(hour.text()) > parseInt(now.format('h'))){
    newColumn0.attr("class","past");
    console.log();
  } else if (parseInt(hour.text()) === parseInt(now.format('h'))){
    newColumn0.attr("class","present");
  } else {
    newColumn0.attr("class","future");
  }     
}

pastpresentfuture(); 







/* 
-build out time-block HTML 
      -bootstrap container (col 2 col-8 col-2)
            ROW with classes: 
             .hour .timeblock .saveBtn 




      - font awesome SAVE button)
      - loop through to create 9am - 5pm
- color-code for Past, Present, Future
          - Color function - if statement 
    - dayjs().isBefore(dayjs())  
    - dayjs().isSame(dayjs('2011-01-01'))
    - dayjs().isAfter(dayjs())  
-Can write into each time-block
-Save button save's what's written into local storage
-input is still there on page refresh 




--------------------------
the current day is displayed at the top of the calendar
WHEN I scroll down
THEN I am presented with time blocks for standard business hours
WHEN I view the time blocks for that day
THEN each time block is color-coded to indicate whether it is in the past, present, or future
WHEN I click into a time block
THEN I can enter an event
WHEN I click the save button for that time block
THEN the text for that event is saved in local storage
WHEN I refresh the page
THEN the saved events persist */

})
    </script>
  </body>
</html>
